(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7qkw":function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7");t.default=o},QNJP:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M17,21L14.25,18L15.41,16.84L17,18.43L20.59,14.84L21.75,16.25M12.8,21H5C3.89,21 3,20.11 3,19V5C3,3.89 3.89,3 5,3H19C20.11,3 21,3.89 21,5V12.8C20.39,12.45 19.72,12.2 19,12.08V5H5V19H12.08C12.2,19.72 12.45,20.39 12.8,21M12,17H7V15H12M14.68,13H7V11H17V12.08C16.15,12.22 15.37,12.54 14.68,13M17,9H7V7H17");t.default=o},RfcC:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[category]",function(){return n("xa22")}])},ZEnH:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z");t.default=o},saw2:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M17,21L14.25,18L15.41,16.84L17,18.43L20.59,14.84L21.75,16.25M12.8,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19A2,2 0 0,1 21,5V12.8C20.12,12.29 19.09,12 18,12L17,12.08V11H7V13H14.69C13.07,14.07 12,15.91 12,18C12,19.09 12.29,20.12 12.8,21M12,15H7V17H12M17,7H7V9H17");t.default=o},xa22:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return ke}));var a=n("KQm4"),o=n("q1tI"),r=n.n(o),i=n("ofer"),l=n("tRbT"),c=n("30+C"),u=n("lFIR"),s=n("oa/T"),d=n("Ie8z"),p=n("YFqc"),f=n.n(p),m=n("MlvY"),g=n.n(m),b=n("hlFM"),v=n("Ff2n"),h=n("wx14"),y=(n("17x9"),n("iuhU")),O=n("ye/S"),C=n("H2TA"),j=n("kKAo"),L=n("5AJ6"),k=Object(L.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),x=Object(L.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),w=Object(L.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),M=Object(L.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),E=Object(L.a)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),F=n("PsDL"),H=n("NqtD"),S={success:o.createElement(k,{fontSize:"inherit"}),warning:o.createElement(x,{fontSize:"inherit"}),error:o.createElement(w,{fontSize:"inherit"}),info:o.createElement(M,{fontSize:"inherit"})},A=o.createElement(E,{fontSize:"small"}),I=o.forwardRef((function(e,t){var n=e.action,a=e.children,r=e.classes,i=e.className,l=e.closeText,c=void 0===l?"Close":l,u=e.color,s=e.icon,d=e.iconMapping,p=void 0===d?S:d,f=e.onClose,m=e.role,g=void 0===m?"alert":m,b=e.severity,O=void 0===b?"success":b,C=e.variant,L=void 0===C?"standard":C,k=Object(v.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return(o.createElement(j.a,Object(h.a)({role:g,square:!0,elevation:0,className:Object(y.a)(r.root,r["".concat(L).concat(Object(H.a)(u||O))],i),ref:t},k),!1!==s?o.createElement("div",{className:r.icon},s||p[O]||S[O]):null,o.createElement("div",{className:r.message},a),null!=n?o.createElement("div",{className:r.action},n):null,null==n&&f?o.createElement("div",{className:r.action},o.createElement(F.a,{size:"small","aria-label":c,title:c,color:"inherit",onClick:f},A)):null))})),_=Object(C.a)((function(e){var t="light"===e.palette.type?O.a:O.e,n="light"===e.palette.type?O.e:O.a;return{root:Object(h.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(I),z=n("Z3vd"),B=n("saw2"),N=n.n(B),P=n("QNJP"),V=n.n(P),W=n("IFCi"),D=n("h7RS"),R=n("D1wd"),T=n("LyaL"),Z=n("IcqZ"),G=n("e5ou"),$=n("5crx"),q=r.a.createElement,J=function(e){var t=e.center,n=e.features,a=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(n&&"object"===typeof window.L){if(null===a.current){var e=window.L.tileLayer("https://".concat("osm.millipede.app","/{z}/{x}/{y}.png"),{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}),o=window.L.markerClusterGroup({showCoverageOnHover:!1,removeOutsideVisibleBounds:!0,animate:!1,animateAddingMarkers:!1,chunkedLoading:!0,zoomToBoundsOnClick:!1,iconCreateFunction:function(e){var t=e.getChildCount(),n=10*t.toString().length+12;return n<24&&(n=24),window.L.divIcon({className:"mapicon-parent",html:'<div class="mapicon mapicon-cluster">'.concat(t,"</div>"),iconSize:[n,24],iconAnchor:[n/2,12]})}});o.on("clusterclick",(function(e){e.layer.zoomToBounds({padding:[20,20],animate:!0})}));var r=window.L.map("mapContainer",{center:t,zoom:4,scrollWheelZoom:!0,fullscreenControl:{pseudoFullscreen:!0},layers:[e,o]});a.current={lMap:r,lGeo:o}}if(a.current.lGeo.clearLayers(),n.length>0){var i=window.L.geoJSON({type:"FeatureCollection",features:n},{pointToLayer:$.c,onEachFeature:$.b}).addTo(a.current.lGeo);a.current.lMap.fitBounds(i.getBounds(),{animate:!1,padding:[20,20]})}}}),[n]),q(G.a,null,q(j.a,{elevation:1},q("div",{id:"mapContainer",style:{height:"25vh",minHeight:"240px"}})))},Y=n("kfFl"),K=n("+JwS"),Q=n("EQI2"),X=n("yv+Y"),U=n("1AYd"),ee=n("rePB"),te=n("tVbE"),ne=o.forwardRef((function(e,t){var n,a=e.classes,r=e.className,i=e.component,l=void 0===i?"li":i,c=e.disableGutters,u=void 0!==c&&c,s=e.ListItemClasses,d=e.role,p=void 0===d?"menuitem":d,f=e.selected,m=e.tabIndex,g=Object(v.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==m?m:-1),o.createElement(te.a,Object(h.a)({button:!0,role:p,tabIndex:n,component:l,selected:f,disableGutters:u,classes:Object(h.a)({dense:a.dense},s),className:Object(y.a)(a.root,r,f&&a.selected,!u&&a.gutters),ref:t},g))})),ae=Object(C.a)((function(e){return{root:Object(h.a)({},e.typography.body1,Object(ee.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(h.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(ne),oe=n("ADg1"),re=n("cVXz"),ie=r.a.createElement,le=function(e){var t=e.open,n=e.setOpen,a=e.category,r=e.geo,i=Object(o.useContext)(Z.a),l=i[0],c=i[1],u=Object(o.useState)(""),s=u[0],d=u[1],p=Object(o.useState)(""),f=p[0],m=p[1],g=Object(o.useState)(""),v=g[0],h=g[1];Object(o.useEffect)((function(){d(l.indexLocationFilter&&l.indexLocationFilter.country||""),m(l.indexLocationFilter&&l.indexLocationFilter.region||""),h(l.indexLocationFilter&&l.indexLocationFilter.park||"")}),[l]);var y=Object(o.useMemo)((function(){var e={};return r&&r.features.forEach((function(t){var n=t.properties,o=n.country,r=n.region,i=n.park;o&&(void 0===e[o]&&(e[o]={}),r&&(void 0===e[o][r]&&(e[o][r]=[]),"parks"!==a&&i&&-1===e[o][r].indexOf(i)&&e[o][r].push(i)))})),e}),[r]);return ie(Y.a,{open:t,onClose:function(){return n(!1)},fullWidth:!0,maxWidth:"sm"},ie(X.a,null,"Select Location"),ie(Q.a,null,ie(b.a,null,ie(oe.a,{variant:"outlined",fullWidth:!0},ie(U.a,{id:"country-label"},"Country"),ie(re.a,{labelId:"country-label",id:"country-select",value:s,onChange:function(e){h(""),m(""),d(e.target.value)},label:"Country",placeholder:"All",autoWidth:!1},ie(ae,{"aria-label":"None",value:""},ie("em",null,"All")),Object.keys(y).map((function(e){return ie(ae,{key:e,value:e},e)}))))),s&&y[s]&&ie(b.a,{mt:3},ie(oe.a,{variant:"outlined",fullWidth:!0},ie(U.a,{id:"region-label"},"Region"),ie(re.a,{labelId:"region-label",id:"region-select",value:f,onChange:function(e){h(""),m(e.target.value)},label:"Region",placeholder:"All",autoWidth:!1},ie(ae,{"aria-label":"None",value:""},ie("em",null,"All")),Object.keys(y[s]).map((function(e){return ie(ae,{key:e,value:e},e)}))))),"parks"!==a&&s&&f&&y[s]&&y[s][f]&&ie(b.a,{mt:3},ie(oe.a,{variant:"outlined",fullWidth:!0},ie(U.a,{id:"park-label"},"Park"),ie(re.a,{labelId:"park-label",id:"park-select",value:v,onChange:function(e){return h(e.target.value)},label:"Park",placeholder:"All",autoWidth:!1},ie(ae,{"aria-label":"None",value:""},ie("em",null,"All")),y[s][f].map((function(e){return ie(ae,{key:e,value:e},e)})))))),ie(K.a,null,ie(z.a,{onClick:function(){h(""),m(""),d("")}},"Reset"),ie(z.a,{onClick:function(){n(!1),c({action:"indexLocationFilter",data:{country:s,region:f,park:v}})},color:"primary"},"Ok")))},ce=n("9jPY"),ue=n("KoX4"),se=n.n(ue),de=n("ZEnH"),pe=n.n(de),fe=n("7qkw"),me=n.n(fe),ge=n("HfAZ"),be=n.n(ge),ve=n("sctL"),he=r.a.createElement;function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Object(ee.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e){var t=e.open,n=e.setOpen,a=e.category,r=e.geo,c={features:{},restrictions:{},accessibility:{},getting_there:{}},u=Object(o.useContext)(Z.a),s=u[0],d=u[1],p=Object(o.useState)(!1),f=p[0],m=p[1],v=Object(o.useState)(c),h=v[0],y=v[1];Object(o.useEffect)((function(){return m(!1)}),[r]);var O=function(e,t){var n,a=Oe({},h);return a[e][t]=null===(n=h[e][t])||!0!==n&&null,y(a),a[e][t]};return he(Y.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t,onEnter:function(){if(!f&&s.available||s.error){var e=Oe(Oe({},c),!s.error&&s.indexBooleanFilter&&s.indexBooleanFilter[a]||{});r&&r.features&&r.features.forEach((function(t){Object.keys(c).forEach((function(n){t.properties[n]&&Object.keys(t.properties[n]).forEach((function(t){t in e[n]||(e[n][t]=null)}))}))})),y(e),m(!0)}},onClose:function(){return n(!1)}},he(Q.a,null,Object.keys(c).map((function(e){return he(b.a,{key:e},he(b.a,{mt:3,mb:2},he(i.a,{variant:"h2"},g()(e))),he(l.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:1},Object.keys(h[e]).sort().map((function(t){return he(l.a,{item:!0,key:e+t},he(ce.a,{size:window&&window.innerWidth<400?"small":"medium",variant:"outlined",label:be()(g()(t),22),title:g()(t),icon:Object(ve.a)(t),onClick:function(){return O(e,t)},onDoubleClick:function(){return null},onDelete:function(){return O(e,t)},style:{backgroundColor:(!0===h[e][t]?"#0801":!1===h[e][t]&&"#8001")||null},deleteIcon:!0===h[e][t]&&he(se.a,{style:{color:"#080"}})||!1===h[e][t]&&he(pe.a,{style:{color:"#800"}})||he(me.a,null)}))}))))}))),he(K.a,null,he(z.a,{onClick:function(){var e=Oe({},h);Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){return e[t][n]=null,null}))})),y(e)}},"Reset"),he(z.a,{onClick:function(){n(!1),d({action:"indexBooleanFilter",category:a,data:h})},color:"primary"},"Ok")))},je=n("IYlT"),Le=r.a.createElement,ke=!0;t.default=function(e){var t=e.category,n=e.geo,r=["mark","done","favt"],p=Object(o.useContext)(Z.a)[0],m=Object(o.useState)(n&&n.features||[]),v=m[0],h=m[1],y=Object(o.useState)(!1),O=y[0],C=y[1],j=Object(o.useState)(!1),L=j[0],k=j[1];Object(o.useEffect)((function(){return h(n.features.filter((function(e){var n=e.properties;if(void 0!==p.indexLocationFilter){var a=p.indexLocationFilter;if(a.country){if(a.country!==n.country)return!1;if(a.region){if(a.region!==n.region)return!1;if("parks"!==t&&a.park&&a.park!==n.park)return!1}}}if(p&&p.pageData&&p.pageData[t]&&p.pageData[t].index&&!r.reduce((function(e,a){var o,r;try{o=p.pageData[t].index[a].log&&p.pageData[t].index[a].log.length>0}catch(i){o=!1}try{r=p.pageData[t][n.id][a].log&&p.pageData[t][n.id][a].log.length>0}catch(i){r=!1}return e&&(!0!==o||!0===r)}),!0))return!1;if(p.indexBooleanFilter&&p.indexBooleanFilter[t]){var o=p.indexBooleanFilter[t];return Object.keys(o).reduce((function(e,t){return e?Object.keys(o[t]).reduce((function(e,a){return e&&null!==o[t][a]?null!==n[t]&&void 0!==n[t]&&n[t][a]===o[t][a]:e}),e):e}),!0)}return!0})))}),[p,n]);var x=Object(o.useMemo)((function(){return p.indexBooleanFilter&&p.indexBooleanFilter[t]?Object.values(p.indexBooleanFilter[t]).reduce((function(e,t){return e+Object.values(t).filter((function(e){return null!==e})).length}),0):0}),[p]);return Le(D.a,{title:g()(t),href:"/".concat(t)},Le(G.c,null,g()(t)),Le(b.a,{mt:1},Le(l.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},Le(l.a,{item:!0},Le(z.a,{variant:"outlined",color:"primary",onClick:function(){return C(!0)}},p.indexLocationFilter&&[p.indexLocationFilter.park,p.indexLocationFilter.region,p.indexLocationFilter.country].filter(Boolean).join(", ")||"All Countries")),Le(l.a,{item:!0},Le(W.a,{badgeContent:x,showZero:!1,overlap:"circle",color:"error"},Le(F.a,{color:"primary",onClick:function(){return k(!0)}},Le(0===x?V.a:N.a,null))),Le(R.c,{category:t,id:"index"})))),Le(b.a,{mt:1},Le(J,{center:n.features.length>0?Object(a.a)(n.features[0].geometry.coordinates).reverse():[0,0],features:v,category:t})),0===v.length&&Le(b.a,{mt:3},Le(_,{elevation:0,severity:"warning",variant:"outlined"},"No results for selected filters.")),Le(b.a,{mt:3},Le(l.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2},v.map((function(e){return Le(l.a,{key:e.properties.id,item:!0,xs:6,sm:4,md:3},Le(f.a,{href:"/[category]/[...id]",as:e.properties.href},Le("a",{style:{textDecoration:"none"}},Le(c.a,null,Le(u.a,null,Le(d.a,{style:{height:"140px",textAlign:"right"},image:e.properties.photo?"/photos/sm/".concat(je[e.properties.photo.src].hash,".jpg"):null},Le(T.b,{category:t,id:e.properties.id})),Le(s.a,null,Le(i.a,{variant:"body2",component:"div",style:{margin:0}},[p.indexLocationFilter&&p.indexLocationFilter.park?null:e.properties.park,p.indexLocationFilter&&p.indexLocationFilter.region?null:e.properties.region,p.indexLocationFilter&&p.indexLocationFilter.country?null:e.properties.country].filter(Boolean).join(", ")),Le(i.a,{variant:"h2",component:"div",style:{marginTop:0}},e.properties.name)))))))})))),Le(le,{open:O,setOpen:C,category:t,geo:n}),Le(Ce,{open:L,setOpen:k,category:t,geo:n}))}}},[["RfcC",0,2,3,1,4,5,7,6,8,9]]]);