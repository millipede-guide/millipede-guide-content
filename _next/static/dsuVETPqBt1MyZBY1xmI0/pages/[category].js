(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7qkw":function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7");t.default=o},QNJP:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M17,21L14.25,18L15.41,16.84L17,18.43L20.59,14.84L21.75,16.25M12.8,21H5C3.89,21 3,20.11 3,19V5C3,3.89 3.89,3 5,3H19C20.11,3 21,3.89 21,5V12.8C20.39,12.45 19.72,12.2 19,12.08V5H5V19H12.08C12.2,19.72 12.45,20.39 12.8,21M12,17H7V15H12M14.68,13H7V11H17V12.08C16.15,12.22 15.37,12.54 14.68,13M17,9H7V7H17");t.default=o},RfcC:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[category]",function(){return n("xa22")}])},ZEnH:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z");t.default=o},saw2:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((a=n("wvMB"))&&a.__esModule?a:{default:a}).default)("M17,21L14.25,18L15.41,16.84L17,18.43L20.59,14.84L21.75,16.25M12.8,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19A2,2 0 0,1 21,5V12.8C20.12,12.29 19.09,12 18,12L17,12.08V11H7V13H14.69C13.07,14.07 12,15.91 12,18C12,19.09 12.29,20.12 12.8,21M12,15H7V17H12M17,7H7V9H17");t.default=o},xa22:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return ke}));var a=n("KQm4"),o=n("q1tI"),r=n.n(o),i=n("ofer"),l=n("tRbT"),c=n("30+C"),u=n("lFIR"),s=n("oa/T"),d=n("Ie8z"),p=n("MlvY"),f=n.n(p),m=n("hlFM"),g=n("Ff2n"),b=n("wx14"),v=(n("17x9"),n("iuhU")),h=n("ye/S"),y=n("H2TA"),O=n("kKAo"),C=n("5AJ6"),j=Object(C.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),L=Object(C.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),k=Object(C.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),x=Object(C.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),w=Object(C.a)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),M=n("PsDL"),E=n("NqtD"),A={success:o.createElement(j,{fontSize:"inherit"}),warning:o.createElement(L,{fontSize:"inherit"}),error:o.createElement(k,{fontSize:"inherit"}),info:o.createElement(x,{fontSize:"inherit"})},F=o.createElement(w,{fontSize:"small"}),H=o.forwardRef((function(e,t){var n=e.action,a=e.children,r=e.classes,i=e.className,l=e.closeText,c=void 0===l?"Close":l,u=e.color,s=e.icon,d=e.iconMapping,p=void 0===d?A:d,f=e.onClose,m=e.role,h=void 0===m?"alert":m,y=e.severity,C=void 0===y?"success":y,j=e.variant,L=void 0===j?"standard":j,k=Object(g.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return(o.createElement(O.a,Object(b.a)({role:h,square:!0,elevation:0,className:Object(v.a)(r.root,r["".concat(L).concat(Object(E.a)(u||C))],i),ref:t},k),!1!==s?o.createElement("div",{className:r.icon},s||p[C]||A[C]):null,o.createElement("div",{className:r.message},a),null!=n?o.createElement("div",{className:r.action},n):null,null==n&&f?o.createElement("div",{className:r.action},o.createElement(M.a,{size:"small","aria-label":c,title:c,color:"inherit",onClick:f},F)):null))})),S=Object(y.a)((function(e){var t="light"===e.palette.type?h.a:h.e,n="light"===e.palette.type?h.e:h.a;return{root:Object(b.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(H),I=n("Z3vd"),_=n("saw2"),z=n.n(_),B=n("QNJP"),N=n.n(B),P=n("IFCi"),V=n("AesL"),W=n("h7RS"),D=n("D1wd"),R=n("LyaL"),T=n("IcqZ"),Z=n("e5ou"),G=n("5crx"),$=r.a.createElement,J=function(e){var t=e.center,n=e.features,a=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(n&&"object"===typeof window.L){if(null===a.current){var e=window.L.tileLayer("https://".concat("osm.millipede.app","/{z}/{x}/{y}.png"),{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}),o=window.L.markerClusterGroup({showCoverageOnHover:!1,removeOutsideVisibleBounds:!0,animate:!1,animateAddingMarkers:!1,chunkedLoading:!0,zoomToBoundsOnClick:!1,iconCreateFunction:function(e){var t=e.getChildCount(),n=10*t.toString().length+12;return n<24&&(n=24),window.L.divIcon({className:"mapicon-parent",html:'<div class="mapicon mapicon-cluster">'.concat(t,"</div>"),iconSize:[n,24],iconAnchor:[n/2,12]})}});o.on("clusterclick",(function(e){e.layer.zoomToBounds({padding:[20,20],animate:!0})}));var r=window.L.map("mapContainer",{center:t,zoom:4,scrollWheelZoom:!0,fullscreenControl:{pseudoFullscreen:!0},layers:[e,o]});a.current={lMap:r,lGeo:o}}if(a.current.lGeo.clearLayers(),n.length>0){var i=window.L.geoJSON({type:"FeatureCollection",features:n},{pointToLayer:G.c,onEachFeature:G.b}).addTo(a.current.lGeo);a.current.lMap.fitBounds(i.getBounds(),{animate:!1,padding:[20,20]})}}}),[n]),$(Z.a,null,$(O.a,{elevation:1},$("div",{id:"mapContainer",style:{height:"25vh",minHeight:"240px"}})))},q=n("kfFl"),Y=n("+JwS"),K=n("EQI2"),Q=n("yv+Y"),X=n("1AYd"),U=n("rePB"),ee=n("tVbE"),te=o.forwardRef((function(e,t){var n,a=e.classes,r=e.className,i=e.component,l=void 0===i?"li":i,c=e.disableGutters,u=void 0!==c&&c,s=e.ListItemClasses,d=e.role,p=void 0===d?"menuitem":d,f=e.selected,m=e.tabIndex,h=Object(g.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==m?m:-1),o.createElement(ee.a,Object(b.a)({button:!0,role:p,tabIndex:n,component:l,selected:f,disableGutters:u,classes:Object(b.a)({dense:a.dense},s),className:Object(v.a)(a.root,r,f&&a.selected,!u&&a.gutters),ref:t},h))})),ne=Object(y.a)((function(e){return{root:Object(b.a)({},e.typography.body1,Object(U.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(b.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(te),ae=n("ADg1"),oe=n("cVXz"),re=r.a.createElement,ie=function(e){var t=e.open,n=e.setOpen,a=e.category,r=e.geo,i=Object(o.useContext)(T.a),l=i[0],c=i[1],u=Object(o.useState)(""),s=u[0],d=u[1],p=Object(o.useState)(""),f=p[0],g=p[1],b=Object(o.useState)(""),v=b[0],h=b[1];Object(o.useEffect)((function(){d(l.indexLocationFilter&&l.indexLocationFilter.country||""),g(l.indexLocationFilter&&l.indexLocationFilter.region||""),h(l.indexLocationFilter&&l.indexLocationFilter.park||"")}),[l]);var y=Object(o.useMemo)((function(){var e={};return r&&r.features.forEach((function(t){var n=t.properties,o=n.country,r=n.region,i=n.park;o&&(void 0===e[o]&&(e[o]={}),r&&(void 0===e[o][r]&&(e[o][r]=[]),"parks"!==a&&i&&-1===e[o][r].indexOf(i)&&e[o][r].push(i)))})),e}),[r]);return re(q.a,{open:t,onClose:function(){return n(!1)},fullWidth:!0,maxWidth:"sm"},re(Q.a,null,"Select Location"),re(K.a,null,re(m.a,null,re(ae.a,{variant:"outlined",fullWidth:!0},re(X.a,{id:"country-label"},"Country"),re(oe.a,{labelId:"country-label",id:"country-select",value:s,onChange:function(e){h(""),g(""),d(e.target.value)},label:"Country",placeholder:"All",autoWidth:!1},re(ne,{"aria-label":"None",value:""},re("em",null,"All")),Object.keys(y).map((function(e){return re(ne,{key:e,value:e},e)}))))),s&&y[s]&&re(m.a,{mt:3},re(ae.a,{variant:"outlined",fullWidth:!0},re(X.a,{id:"region-label"},"Region"),re(oe.a,{labelId:"region-label",id:"region-select",value:f,onChange:function(e){h(""),g(e.target.value)},label:"Region",placeholder:"All",autoWidth:!1},re(ne,{"aria-label":"None",value:""},re("em",null,"All")),Object.keys(y[s]).map((function(e){return re(ne,{key:e,value:e},e)}))))),"parks"!==a&&s&&f&&y[s]&&y[s][f]&&re(m.a,{mt:3},re(ae.a,{variant:"outlined",fullWidth:!0},re(X.a,{id:"park-label"},"Park"),re(oe.a,{labelId:"park-label",id:"park-select",value:v,onChange:function(e){return h(e.target.value)},label:"Park",placeholder:"All",autoWidth:!1},re(ne,{"aria-label":"None",value:""},re("em",null,"All")),y[s][f].map((function(e){return re(ne,{key:e,value:e},e)})))))),re(Y.a,null,re(I.a,{onClick:function(){h(""),g(""),d("")}},"Reset"),re(I.a,{onClick:function(){n(!1),c({action:"indexLocationFilter",data:{country:s,region:f,park:v}})},color:"primary"},"Ok")))},le=n("9jPY"),ce=n("KoX4"),ue=n.n(ce),se=n("ZEnH"),de=n.n(se),pe=n("7qkw"),fe=n.n(pe),me=n("HfAZ"),ge=n.n(me),be=n("sctL"),ve=r.a.createElement;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Object(U.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(e){var t=e.open,n=e.setOpen,a=e.category,r=e.geo,c={features:{},restrictions:{},accessibility:{},getting_there:{}},u=Object(o.useContext)(T.a),s=u[0],d=u[1],p=Object(o.useState)(!1),g=p[0],b=p[1],v=Object(o.useState)(c),h=v[0],y=v[1];Object(o.useEffect)((function(){return b(!1)}),[r]);var O=function(e,t){var n,a=ye({},h);return a[e][t]=null===(n=h[e][t])||!0!==n&&null,y(a),a[e][t]};return ve(q.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t,onEnter:function(){if(!g&&s.available||s.error){var e=ye(ye({},c),!s.error&&s.indexBooleanFilter&&s.indexBooleanFilter[a]||{});r&&r.features&&r.features.forEach((function(t){Object.keys(c).forEach((function(n){t.properties[n]&&Object.keys(t.properties[n]).forEach((function(t){t in e[n]||(e[n][t]=null)}))}))})),y(e),b(!0)}},onClose:function(){return n(!1)}},ve(K.a,null,Object.keys(c).map((function(e){return ve(m.a,{key:e},ve(m.a,{mt:3,mb:2},ve(i.a,{variant:"h2"},f()(e))),ve(l.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:1},Object.keys(h[e]).sort().map((function(t){return ve(l.a,{item:!0,key:e+t},ve(le.a,{size:window&&window.innerWidth<400?"small":"medium",variant:"outlined",label:ge()(f()(t),22),title:f()(t),icon:Object(be.a)(t),onClick:function(){return O(e,t)},onDoubleClick:function(){return null},onDelete:function(){return O(e,t)},style:{backgroundColor:(!0===h[e][t]?"#0801":!1===h[e][t]&&"#8001")||null},deleteIcon:!0===h[e][t]&&ve(ue.a,{style:{color:"#080"}})||!1===h[e][t]&&ve(de.a,{style:{color:"#800"}})||ve(fe.a,null)}))}))))}))),ve(Y.a,null,ve(I.a,{onClick:function(){var e=ye({},h);Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){return e[t][n]=null,null}))})),y(e)}},"Reset"),ve(I.a,{onClick:function(){n(!1),d({action:"indexBooleanFilter",category:a,data:h})},color:"primary"},"Ok")))},Ce=n("IYlT"),je=r.a.createElement,Le=function(e){return e.properties.photo&&e.properties.photo.src&&Ce[e.properties.photo.src]?"".concat("","/photos/sm/").concat(Ce[e.properties.photo.src].hash,".jpg"):null},ke=!0;t.default=function(e){var t=e.category,n=e.geo,r=["mark","done","favt"],p=Object(o.useContext)(T.a)[0],g=Object(o.useState)(n&&n.features||[]),b=g[0],v=g[1],h=Object(o.useState)(!1),y=h[0],O=h[1],C=Object(o.useState)(!1),j=C[0],L=C[1];Object(o.useEffect)((function(){return v(n.features.filter((function(e){var n=e.properties;if(void 0!==p.indexLocationFilter){var a=p.indexLocationFilter;if(a.country){if(a.country!==n.country)return!1;if(a.region){if(a.region!==n.region)return!1;if("parks"!==t&&a.park&&a.park!==n.park)return!1}}}if(p&&p.pageData&&p.pageData[t]&&p.pageData[t].index&&!r.reduce((function(e,a){var o,r;try{o=p.pageData[t].index[a].log&&p.pageData[t].index[a].log.length>0}catch(i){o=!1}try{r=p.pageData[t][n.id][a].log&&p.pageData[t][n.id][a].log.length>0}catch(i){r=!1}return e&&(!0!==o||!0===r)}),!0))return!1;if(p.indexBooleanFilter&&p.indexBooleanFilter[t]){var o=p.indexBooleanFilter[t];return Object.keys(o).reduce((function(e,t){return e?Object.keys(o[t]).reduce((function(e,a){return e&&null!==o[t][a]?null!==n[t]&&void 0!==n[t]&&n[t][a]===o[t][a]:e}),e):e}),!0)}return!0})))}),[p,n]);var k=Object(o.useMemo)((function(){return p.indexBooleanFilter&&p.indexBooleanFilter[t]?Object.values(p.indexBooleanFilter[t]).reduce((function(e,t){return e+Object.values(t).filter((function(e){return null!==e})).length}),0):0}),[p]);return je(W.a,{title:f()(t),href:"/[category]",as:"/".concat(t)},je(Z.c,null,f()(t)),je(m.a,{mt:1},je(l.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1},je(l.a,{item:!0},je(I.a,{variant:"outlined",color:"primary",onClick:function(){return O(!0)}},p.indexLocationFilter&&[p.indexLocationFilter.park,p.indexLocationFilter.region,p.indexLocationFilter.country].filter(Boolean).join(", ")||"All Countries")),je(l.a,{item:!0},je(P.a,{badgeContent:k,showZero:!1,overlap:"circle",color:"error"},je(M.a,{color:"primary",onClick:function(){return L(!0)}},je(0===k?N.a:z.a,null))),je(D.c,{category:t,id:"index"})))),je(m.a,{mt:1},je(J,{center:n.features.length>0?Object(a.a)(n.features[0].geometry.coordinates).reverse():[0,0],features:b,category:t})),0===b.length&&je(m.a,{mt:3},je(S,{elevation:0,severity:"warning",variant:"outlined"},"No results for selected filters.")),je(m.a,{mt:3},je(l.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2},b.map((function(e){return je(l.a,{key:e.properties.id,item:!0,xs:6,sm:4,md:3},je(V.a,{href:"/[category]/[...id]",as:e.properties.href},je(c.a,null,je(u.a,null,je(d.a,{style:{height:"140px",backgroundColor:"#EEE"},image:Le(e)},je("div",{style:{position:"absolute",top:0,right:0}},je(R.b,{category:t,id:e.properties.id})),null===Le(e)&&je(i.a,{variant:"body1",style:{color:"#AAA",lineHeight:"140px",textAlign:"center"}},"No Photo")),je(s.a,null,je(i.a,{variant:"body2",component:"div",style:{margin:0}},[p.indexLocationFilter&&p.indexLocationFilter.park?null:e.properties.park,p.indexLocationFilter&&p.indexLocationFilter.region?null:e.properties.region,p.indexLocationFilter&&p.indexLocationFilter.country?null:e.properties.country].filter(Boolean).join(", ")),je(i.a,{variant:"h2",component:"div",style:{marginTop:0}},e.properties.name))))))})))),je(ie,{open:y,setOpen:O,category:t,geo:n}),je(Oe,{open:j,setOpen:L,category:t,geo:n}))}}},[["RfcC",0,2,3,1,4,5,6,7,8,9]]]);